!function(e){var t=window.webpackHotUpdate;window.webpackHotUpdate=function(e,n){!function(e,t){if(!b[e]||!g[e])return;for(var n in g[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(v[n]=t[n]);0==--m&&0===w&&j()}(e,n),t&&t(e,n)};var n,r=!0,o="12c05b62c69a049e0deb",i=1e4,c={},s=[],a=[];function u(e){var t=D[e];if(!t)return k;var r=function(r){return t.hot.active?(D[r]?-1===D[r].parents.indexOf(e)&&D[r].parents.push(e):(s=[e],n=r),-1===t.children.indexOf(r)&&t.children.push(r)):(console.warn("[HMR] unexpected require("+r+") from disposed module "+e),s=[]),k(r)},o=function(e){return{configurable:!0,enumerable:!0,get:function(){return k[e]},set:function(t){k[e]=t}}};for(var i in k)Object.prototype.hasOwnProperty.call(k,i)&&"e"!==i&&"t"!==i&&Object.defineProperty(r,i,o(i));return r.e=function(e){return"ready"===l&&f("prepare"),w++,k.e(e).then(t,function(e){throw t(),e});function t(){w--,"prepare"===l&&(_[e]||E(e),0===w&&0===m&&j())}},r.t=function(e,t){return 1&t&&(e=r(e)),k.t(e,-2&t)},r}function d(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:n!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._acceptedDependencies[e[r]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:O,apply:P,status:function(e){if(!e)return l;p.push(e)},addStatusHandler:function(e){p.push(e)},removeStatusHandler:function(e){var t=p.indexOf(e);t>=0&&p.splice(t,1)},data:c[e]};return n=void 0,t}var p=[],l="idle";function f(e){l=e;for(var t=0;t<p.length;t++)p[t].call(null,e)}var h,v,y,m=0,w=0,_={},g={},b={};function x(e){return+e+""===e?+e:e}function O(e){if("idle"!==l)throw new Error("check() is only allowed in idle status");return r=e,f("check"),(t=i,t=t||1e4,new Promise(function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,i=k.p+""+o+".hot-update.json";r.open("GET",i,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+i+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+i+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}})).then(function(e){if(!e)return f("idle"),null;g={},_={},b=e.c,y=e.h,f("prepare");var t=new Promise(function(e,t){h={resolve:e,reject:t}});v={};return E(0),"prepare"===l&&0===w&&0===m&&j(),t});var t}function E(e){b[e]?(g[e]=!0,m++,function(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.charset="utf-8",n.src=k.p+""+e+"."+o+".hot-update.js",t.appendChild(n)}(e)):_[e]=!0}function j(){f("ready");var e=h;if(h=null,e)if(r)Promise.resolve().then(function(){return P(r)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var n in v)Object.prototype.hasOwnProperty.call(v,n)&&t.push(x(n));e.resolve(t)}}function P(t){if("ready"!==l)throw new Error("apply() is only allowed in ready status");var n,r,i,a,u;function d(e){for(var t=[e],n={},r=t.slice().map(function(e){return{chain:[e],id:e}});r.length>0;){var o=r.pop(),i=o.id,c=o.chain;if((a=D[i])&&!a.hot._selfAccepted){if(a.hot._selfDeclined)return{type:"self-declined",chain:c,moduleId:i};if(a.hot._main)return{type:"unaccepted",chain:c,moduleId:i};for(var s=0;s<a.parents.length;s++){var u=a.parents[s],d=D[u];if(d){if(d.hot._declinedDependencies[i])return{type:"declined",chain:c.concat([u]),moduleId:i,parentId:u};-1===t.indexOf(u)&&(d.hot._acceptedDependencies[i]?(n[u]||(n[u]=[]),p(n[u],[i])):(delete n[u],t.push(u),r.push({chain:c.concat([u]),id:u})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}t=t||{};var h={},m=[],w={},_=function(){console.warn("[HMR] unexpected require("+O.moduleId+") to disposed module")};for(var g in v)if(Object.prototype.hasOwnProperty.call(v,g)){var O;u=x(g);var E=!1,j=!1,P=!1,M="";switch((O=v[g]?d(u):{type:"disposed",moduleId:g}).chain&&(M="\nUpdate propagation: "+O.chain.join(" -> ")),O.type){case"self-declined":t.onDeclined&&t.onDeclined(O),t.ignoreDeclined||(E=new Error("Aborted because of self decline: "+O.moduleId+M));break;case"declined":t.onDeclined&&t.onDeclined(O),t.ignoreDeclined||(E=new Error("Aborted because of declined dependency: "+O.moduleId+" in "+O.parentId+M));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(O),t.ignoreUnaccepted||(E=new Error("Aborted because "+u+" is not accepted"+M));break;case"accepted":t.onAccepted&&t.onAccepted(O),j=!0;break;case"disposed":t.onDisposed&&t.onDisposed(O),P=!0;break;default:throw new Error("Unexception type "+O.type)}if(E)return f("abort"),Promise.reject(E);if(j)for(u in w[u]=v[u],p(m,O.outdatedModules),O.outdatedDependencies)Object.prototype.hasOwnProperty.call(O.outdatedDependencies,u)&&(h[u]||(h[u]=[]),p(h[u],O.outdatedDependencies[u]));P&&(p(m,[O.moduleId]),w[u]=_)}var T,A=[];for(r=0;r<m.length;r++)u=m[r],D[u]&&D[u].hot._selfAccepted&&A.push({module:u,errorHandler:D[u].hot._selfAccepted});f("dispose"),Object.keys(b).forEach(function(e){!1===b[e]&&function(e){delete installedChunks[e]}(e)});for(var H,S,I=m.slice();I.length>0;)if(u=I.pop(),a=D[u]){var C={},L=a.hot._disposeHandlers;for(i=0;i<L.length;i++)(n=L[i])(C);for(c[u]=C,a.hot.active=!1,delete D[u],delete h[u],i=0;i<a.children.length;i++){var q=D[a.children[i]];q&&((T=q.parents.indexOf(u))>=0&&q.parents.splice(T,1))}}for(u in h)if(Object.prototype.hasOwnProperty.call(h,u)&&(a=D[u]))for(S=h[u],i=0;i<S.length;i++)H=S[i],(T=a.children.indexOf(H))>=0&&a.children.splice(T,1);for(u in f("apply"),o=y,w)Object.prototype.hasOwnProperty.call(w,u)&&(e[u]=w[u]);var U=null;for(u in h)if(Object.prototype.hasOwnProperty.call(h,u)&&(a=D[u])){S=h[u];var X=[];for(r=0;r<S.length;r++)if(H=S[r],n=a.hot._acceptedDependencies[H]){if(-1!==X.indexOf(n))continue;X.push(n)}for(r=0;r<X.length;r++){n=X[r];try{n(S)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:u,dependencyId:S[r],error:e}),t.ignoreErrored||U||(U=e)}}}for(r=0;r<A.length;r++){var z=A[r];u=z.module,s=[u];try{k(u)}catch(e){if("function"==typeof z.errorHandler)try{z.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:u,error:n,originalError:e}),t.ignoreErrored||U||(U=n),U||(U=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:u,error:e}),t.ignoreErrored||U||(U=e)}}return U?(f("fail"),Promise.reject(U)):(f("idle"),new Promise(function(e){e(m)}))}var D={};function k(t){if(D[t])return D[t].exports;var n=D[t]={i:t,l:!1,exports:{},hot:d(t),parents:(a=s,s=[],a),children:[]};return e[t].call(n.exports,n,n.exports,u(t)),n.l=!0,n.exports}k.m=e,k.c=D,k.d=function(e,t,n){k.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},k.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},k.t=function(e,t){if(1&t&&(e=k(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(k.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)k.d(n,r,function(t){return e[t]}.bind(null,r));return n},k.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return k.d(t,"a",t),t},k.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},k.p="",k.h=function(){return o},u(2)(k.s=2)}([function(e,t){e.exports=React},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7);!function(e){!function(e){function t(){try{return window&&window.self!==window.top}catch(e){return!0}}e.inIframe=t,e.setup=function(e){window.addEventListener("message",function(t){var r=t.data;r&&"pxtpkgext"===r.type&&function(e,t){if(t.id){var r=n[t.id];switch(console.log("received action: "+r,t),r){case"extinit":e.emit("init",t.resp);break;case"extusercode":e.emit("readuser",t.resp);break;case"extreadcode":e.emit("read",t.resp);break;case"extwritecode":e.emit("written",t.resp)}}else{var o=t.target;switch(t.event){case"extinit":e.emit("init",t.target);break;case"extloaded":e.emit("loaded",o);break;case"extshown":e.emit("shown",o);break;case"exthidden":e.emit("hidden",o);break;default:console.log("Unhandled event",t)}console.log("received event: ",t)}}(e,r)},!1)},e.init=function(){if(console.log("initializing"),t()){var e=r("extinit");window.parent.postMessage(e,"*")}},e.read=function(e){if(console.log("requesting read code"),t()){var n=r("extreadcode");window.parent.postMessage(n,"*")}else{var o={code:window.localStorage.code,json:window.localStorage.json};e&&e.emit("read",o)}},e.readUser=function(){if(console.log("requesting read user code"),t()){var e=r("extusercode");window.parent.postMessage(e,"*")}},e.write=function(e,n){if(console.log("writing code:",e,n),!t())return window.localStorage.code=e,void(window.localStorage.json=n);var o=r("extwritecode");o.body={code:e,json:n},window.parent.postMessage(o,"*")},e.queryPermission=function(){if(t()){var e=r("extquerypermission");window.parent.postMessage(e,"*")}},e.requestPermission=function(e){if(t()){var n=r("extrequestpermission");n.body={serial:e},window.parent.postMessage(n,"*")}},e.dataStream=function(e){if(t()){var n=r("extdatastream");n.body={serial:e},window.parent.postMessage(n,"*")}};var n={};function r(e){var t=Math.random().toString();return n[t]=e,{type:"pxtpkgext",action:e,extId:o(),response:!0,id:t}}function o(){return t()?window.location.hash.substr(1):void 0}e.getExtensionId=o}(e.extensions||(e.extensions={}))}(t.pxt||(t.pxt={})),function(e){!function(e){!function(e){function t(){return"undefined"!=typeof window&&("ontouchstart"in window||navigator&&navigator.maxTouchPoints>0)}function n(){return"undefined"!=typeof window&&!!window.PointerEvent}e.isTouchEnabled=t,e.hasPointerEvents=n,e.pointerEvents=n()?{up:"pointerup",down:["pointerdown"],move:"pointermove",enter:"pointerenter",leave:"pointerleave"}:t()?{up:"mouseup",down:["mousedown","touchstart"],move:"touchmove",enter:"touchenter",leave:"touchend"}:{up:"mouseup",down:["mousedown"],move:"mousemove",enter:"mouseenter",leave:"mouseleave"},e.getClientXYFromEvent=function(e){var t,n;return e.changedTouches&&1==e.changedTouches.length?(t=e.changedTouches[0].clientX,n=e.changedTouches[0].clientY):(t=e.clientX,n=e.clientY),{clientX:t,clientY:n}},e.useTouchEvents=function(){return!n()&&t()},e.usePointerEvents=function(){return n()},e.useMouseEvents=function(){return!n()&&!t()}}(e.ui||(e.ui={}))}(e.extensions||(e.extensions={}))}(t.pxt||(t.pxt={}));var o=function(){function e(){this.eventEmitter=new r}return e.prototype.on=function(e,t){this.eventEmitter.on(e,t)},e.prototype.removeEventListener=function(e,t){this.eventEmitter.removeListener(e,t)},e.prototype.emit=function(e,t,n){void 0===n&&(n=!1),this.eventEmitter.emit(e,t,n)},e.prototype.getEventEmitter=function(){return this.eventEmitter},e}();t.PXTClient=o},function(e,t,n){e.exports=n(3)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=n(4),i=n(5);o.render(r.createElement(i.PXTExtension,null),document.getElementById("root")),e.hot.accept()},function(e,t){e.exports=ReactDOM},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),c=n(6),s=n(1),a=function(e){function t(t){var n=e.call(this,t)||this;return n.state={target:n.getDefaultTarget(),isSupported:n.isSupported()},n.client=new s.PXTClient,s.pxt.extensions.setup(n.client),s.pxt.extensions.init(),n}return o(t,e),t.prototype.isSupported=function(){return!0},t.prototype.getDefaultTarget=function(){if(!s.pxt.extensions.inIframe()){var e=new URL(window.location.href).searchParams.get("target");return e?e.toLowerCase():t.DEFAULT_TARGET}},t.prototype.componentDidMount=function(){var e=this;this.client.on("loaded",function(t){e.setState({target:t}),s.pxt.extensions.read(e.client)}),this.client.on("shown",function(t){e.setState({target:t}),s.pxt.extensions.read(e.client)}),s.pxt.extensions.inIframe()||this.client.emit("loaded",this.getDefaultTarget())},t.prototype.render=function(){var e=this.state,t=e.target,n=e.isSupported;return i.createElement("div",{className:"PXTExtension "+(t?"":"dimmable dimmed")},n?i.createElement(c.App,{client:this.client,target:t}):i.createElement("div",null,"This extension is not supported in your browser"))},t.DEFAULT_TARGET="microbit",t}(i.Component);t.PXTExtension=a},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),c=n(1),s=n(8),a=n(9),u=function(e){function t(t){var n=e.call(this,t)||this;return n.state={target:t.target},n.deserialize=n.deserialize.bind(n),n.serialize=n.serialize.bind(n),t.client.on("read",n.deserialize),t.client.on("hidden",n.serialize),n}return o(t,e),t.prototype.deserialize=function(e){if(e&&e.json&&e.json.length>0){var t=e.code,n=JSON.parse(e.json);console.log("reading code and json",t,n)}},t.prototype.serialize=function(){console.log("write code and json");var e=this.state.target,t=a.EmitterFactory.getEmitter(e);if(t){var n=t.output(void 0);c.pxt.extensions.write(n,JSON.stringify({}))}},t.prototype.render=function(){this.state.target;return i.createElement("div",{className:"App"},i.createElement(s.Hello,null),i.createElement("br",null),i.createElement("span",null,"Go back to the editor, to see your new block under the music category"))},t}(i.Component);t.App=u},function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,o="~";function i(){}function c(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,n,r,i){if("function"!=typeof n)throw new TypeError("The listener must be a function");var s=new c(n,r||e,i),a=o?o+t:t;return e._events[a]?e._events[a].fn?e._events[a]=[e._events[a],s]:e._events[a].push(s):(e._events[a]=s,e._eventsCount++),e}function a(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function u(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(o=!1)),u.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(o?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},u.prototype.listeners=function(e){var t=o?o+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,i=n.length,c=new Array(i);r<i;r++)c[r]=n[r].fn;return c},u.prototype.listenerCount=function(e){var t=o?o+e:e,n=this._events[t];return n?n.fn?1:n.length:0},u.prototype.emit=function(e,t,n,r,i,c){var s=o?o+e:e;if(!this._events[s])return!1;var a,u,d=this._events[s],p=arguments.length;if(d.fn){switch(d.once&&this.removeListener(e,d.fn,void 0,!0),p){case 1:return d.fn.call(d.context),!0;case 2:return d.fn.call(d.context,t),!0;case 3:return d.fn.call(d.context,t,n),!0;case 4:return d.fn.call(d.context,t,n,r),!0;case 5:return d.fn.call(d.context,t,n,r,i),!0;case 6:return d.fn.call(d.context,t,n,r,i,c),!0}for(u=1,a=new Array(p-1);u<p;u++)a[u-1]=arguments[u];d.fn.apply(d.context,a)}else{var l,f=d.length;for(u=0;u<f;u++)switch(d[u].once&&this.removeListener(e,d[u].fn,void 0,!0),p){case 1:d[u].fn.call(d[u].context);break;case 2:d[u].fn.call(d[u].context,t);break;case 3:d[u].fn.call(d[u].context,t,n);break;case 4:d[u].fn.call(d[u].context,t,n,r);break;default:if(!a)for(l=1,a=new Array(p-1);l<p;l++)a[l-1]=arguments[l];d[u].fn.apply(d[u].context,a)}}return!0},u.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},u.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},u.prototype.removeListener=function(e,t,n,r){var i=o?o+e:e;if(!this._events[i])return this;if(!t)return a(this,i),this;var c=this._events[i];if(c.fn)c.fn!==t||r&&!c.once||n&&c.context!==n||a(this,i);else{for(var s=0,u=[],d=c.length;s<d;s++)(c[s].fn!==t||r&&!c[s].once||n&&c[s].context!==n)&&u.push(c[s]);u.length?this._events[i]=1===u.length?u[0]:u:a(this,i)}return this},u.prototype.removeAllListeners=function(e){var t;return e?(t=o?o+e:e,this._events[t]&&a(this,t)):(this._events=new i,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=o,u.EventEmitter=u,e.exports=u},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),c=function(e){function t(t){return e.call(this,t)||this}return o(t,e),t.prototype.render=function(){return i.createElement("div",{className:"Hello"},"Hello from MakeCode!")},t}(i.Component);t.Hello=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(10),o=function(){function e(){}return e.getEmitter=function(e){return new r.ConcreteEmitter},e}();t.EmitterFactory=o},function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.output=function(e){return this.outputHeader()+'\nnamespace music {\n\n    /**\n     * Custom block generated by the editor extension\n     */\n    //% weight=100\n    //% blockId="custom_extension_block" block="custom extension block"\n    export function customMethod() {\n        // TODO: add implementation\n    }\n\n}'},t}(n(11).AbstractEmitter);t.ConcreteEmitter=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.prototype.outputHeader=function(){return"// Auto-generated. Do not edit."},e}();t.AbstractEmitter=r}]);